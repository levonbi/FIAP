-- Gerado por Oracle SQL Developer Data Modeler 4.1.5.907
--   em:        2020-05-18 21:00:23 BRT
--   site:      Oracle Database 12c
--   tipo:      Oracle Database 12c




CREATE TABLE POSSUI_CONTATO
  (
    TB_ENDERECO_ID_ENDERECO NUMBER (10) NOT NULL ,
    --  ERROR: Column name length exceeds maximum allowed length(30)
    TB_ENDERECO_TB_AGENDA_ID_AGENDA NUMBER (10) NOT NULL ,
    TB_CONTATO_ID_CONTATO           NUMBER (10) NOT NULL ,
    TB_ENDERECO_ID_REGISTRO_SAUDE   NUMBER (10)
  ) ;
ALTER TABLE POSSUI_CONTATO ADD CONSTRAINT POSSUI_CONTATO_PK PRIMARY KEY ( TB_ENDERECO_ID_ENDERECO, TB_ENDERECO_TB_AGENDA_ID_AGENDA, TB_CONTATO_ID_CONTATO, TB_ENDERECO_ID_REGISTRO_SAUDE ) ;


CREATE TABLE POSSUI_EMAIL
  (
    TB_EMAIL_ID_EMAIL      NUMBER (10) NOT NULL ,
    TB_EMAIL_ID_CONTATO    NUMBER (10) NOT NULL ,
    TB_CONTATO_ID_CONTATO  NUMBER (10) NOT NULL ,
    TB_CONTATO_ID_ENDERECO NUMBER NOT NULL
  ) ;
ALTER TABLE POSSUI_EMAIL ADD CONSTRAINT POSSUI_EMAIL_PK PRIMARY KEY ( TB_EMAIL_ID_CONTATO, TB_EMAIL_ID_EMAIL, TB_CONTATO_ID_CONTATO ) ;


CREATE TABLE TB_AGENDA
  (
    ID_AGENDA       NUMBER (10) NOT NULL ,
    DS_NOME_CONTATO VARCHAR2 (50) NOT NULL ,
    --  ERROR: Column name length exceeds maximum allowed length(30)
    TD_REGISTRO_SAUDE_ID_REGISTRO_SAUDE NUMBER (10) NOT NULL
  ) ;
ALTER TABLE TB_AGENDA ADD CONSTRAINT TB_AGENDA_PK PRIMARY KEY ( ID_AGENDA, TD_REGISTRO_SAUDE_ID_REGISTRO_SAUDE ) ;


CREATE TABLE TB_CONTATO
  (
    ID_CONTATO    NUMBER (10) NOT NULL ,
    DS_CONTATO_01 NUMBER (10) NOT NULL ,
    DS_CONTATO_02 NUMBER (10) ,
    DS_CONTATO_03 NUMBER (10) ,
    ID_ENDERECO   NUMBER NOT NULL
  ) ;
ALTER TABLE TB_CONTATO ADD CONSTRAINT TB_CONTATO_PK PRIMARY KEY ( ID_CONTATO ) ;


CREATE TABLE TB_EMAIL
  (
    ID_EMAIL    NUMBER (10) NOT NULL ,
    DS_EMAIL_01 VARCHAR2 (50) NOT NULL ,
    DS_EMAIL_02 VARCHAR2 (50) ,
    DS_EMAIL_03 VARCHAR2 (50) ,
    ID_CONTATO  NUMBER (10) NOT NULL
  ) ;
ALTER TABLE TB_EMAIL ADD CONSTRAINT TB_EMAIL_PK PRIMARY KEY ( ID_EMAIL ) ;


CREATE TABLE TB_ENDERECO
  (
    ID_ENDERECO         NUMBER (10) NOT NULL ,
    TB_AGENDA_ID_AGENDA NUMBER (10) NOT NULL ,
    DS_ENDERECO         VARCHAR2
    --  ERROR: VARCHAR2 size not specified
    NOT NULL ,
    ID_REGISTRO_SAUDE NUMBER (10) NOT NULL
  ) ;
ALTER TABLE TB_ENDERECO ADD CONSTRAINT TB_ENDERECO_PK PRIMARY KEY ( ID_ENDERECO, TB_AGENDA_ID_AGENDA, ID_REGISTRO_SAUDE ) ;


CREATE TABLE TD_REGISTRO_SAUDE
  (
    ID_REGISTRO_SAUDE NUMBER (10) NOT NULL ,
    DH_DATA_REGISTRO  DATE NOT NULL ,
    DS_CATEGORIA      VARCHAR2
    --  ERROR: VARCHAR2 size not specified
    NOT NULL ,
    DS_CATEGORIA_VALOR VARCHAR2
    --  ERROR: VARCHAR2 size not specified
    NOT NULL ,
    DS_OBSERVACAO VARCHAR2
    --  ERROR: VARCHAR2 size not specified
    ,
    ID_AGENDA NUMBER (10) NOT NULL
  ) ;
ALTER TABLE TD_REGISTRO_SAUDE ADD CONSTRAINT TD_REGISTRO_SAUDE_PK PRIMARY KEY ( ID_REGISTRO_SAUDE ) ;


ALTER TABLE POSSUI_EMAIL ADD CONSTRAINT FK_ASS_4 FOREIGN KEY ( TB_EMAIL_ID_EMAIL, TB_EMAIL_ID_CONTATO ) REFERENCES TB_EMAIL ( ID_EMAIL ) ;

ALTER TABLE POSSUI_EMAIL ADD CONSTRAINT FK_ASS_5 FOREIGN KEY ( TB_CONTATO_ID_CONTATO ) REFERENCES TB_CONTATO ( ID_CONTATO ) ;

ALTER TABLE POSSUI_CONTATO ADD CONSTRAINT FK_ASS_8 FOREIGN KEY ( TB_ENDERECO_ID_ENDERECO, TB_ENDERECO_TB_AGENDA_ID_AGENDA, TB_ENDERECO_ID_REGISTRO_SAUDE ) REFERENCES TB_ENDERECO ( ID_ENDERECO, TB_AGENDA_ID_AGENDA, ID_REGISTRO_SAUDE ) ;

ALTER TABLE POSSUI_CONTATO ADD CONSTRAINT FK_ASS_9 FOREIGN KEY ( TB_CONTATO_ID_CONTATO ) REFERENCES TB_CONTATO ( ID_CONTATO ) ;

ALTER TABLE TB_AGENDA ADD CONSTRAINT TB_AGENDA_TD_REGISTRO_SAUDE_FK FOREIGN KEY ( TD_REGISTRO_SAUDE_ID_REGISTRO_SAUDE ) REFERENCES TD_REGISTRO_SAUDE ( ID_REGISTRO_SAUDE ) ;

ALTER TABLE TB_ENDERECO ADD CONSTRAINT TB_ENDERECO_TB_AGENDA_FK FOREIGN KEY ( TB_AGENDA_ID_AGENDA, ID_REGISTRO_SAUDE ) REFERENCES TB_AGENDA ( ID_AGENDA, TD_REGISTRO_SAUDE_ID_REGISTRO_SAUDE ) ;


-- Relat√≥rio do Resumo do Oracle SQL Developer Data Modeler: 
-- 
-- CREATE TABLE                             7
-- CREATE INDEX                             0
-- ALTER TABLE                             13
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- TSDP POLICY                              0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   6
-- WARNINGS                                 0
